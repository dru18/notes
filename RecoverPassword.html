<p>recover password<br />
<br />
</p>
<p><strong>Note : Before rebooting the system you must fully shutdown the system first (no hybernation or fast shutdown ) to get the process work properly.</strong></p>
<ul>
<li><p>Linux</p>
<ul>
<li><p>Without bootable disk</p>
<ul>
<li><p>Recovery options</p>
<ul>
<li>Reboot your system</li>
<li>Press <strong>esc</strong> button on the <em>keyboard</em> for boot options</li>
<li>Select <strong>Advanced options ...</strong></li>
<li><p>Select <strong>... (Recovery Mode)</strong></p>
<ul>
<li><p>Select <strong>Root ...</strong></p>
<ul>
<li>Press <strong>Enter</strong></li>
<li>Enter command <strong>ls /home </strong>( All users will be displayed )</li>
<li>Run command <strong>passwd user_name</strong>( user_name is name of the target user )</li>
<li>Run command <strong>sync</strong></li>
<li>Run command <strong>reboot -f</strong></li>
<li>Enter new password for login</li>
<li>Done</li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Edit <strong>Grub</strong></p>
<ul>
<li>Reboot your system using command <strong>sudo</strong> <strong>reboot -f</strong> ( if no terminal access just restart any way )</li>
<li>Press <strong>esc</strong> button on the <em>keyboard</em> for boot options ( if not working just skip to next step )</li>
<li>Press <strong>e </strong>for <strong>grub edit</strong> screen</li>
<li>Find<strong>ro </strong>and replace everything from <strong>ro </strong>to the end of the line with rw init=/bin/bash</li>
<li><p>Press <strong>ctrl+x</strong> to save and reboot</p>
<ul>
<li>Press <strong>Enter</strong></li>
<li>Enter command <strong>ls /home </strong>( All users will be displayed )</li>
<li>Run command <strong>passwd user_name</strong>( user_name is name of the target user )</li>
<li>Run command <strong>sync</strong></li>
<li>Run command <strong>reboot -f</strong></li>
<li>Enter new password for login</li>
<li>Done</li>
</ul></li>
</ul></li>
</ul></li>
<li><p>With bootable disk</p>
<ul>
<li><p>Edit <strong>passwd</strong></p>
<ul>
<li>Open terminal</li>
<li>List all devices and partitions <strong>sudofdisk</strong> <strong>-l</strong></li>
<li>List partitions mounting points <strong>lsblk</strong></li>
<li>mount target partition to local space <em>/mnt </em><strong>mount</strong><a href="../../../../dev/sda2"><strong>/dev/sda2</strong></a> <strong>/mnt</strong></li>
<li>Edit <a href="../../../../etc/passwd"><em>/etc/passwd</em></a>to <em><strong>remove password lock</strong></em> for <em>target user </em><strong>sudo</strong> <strong>nano </strong><a href="../../../../etc/passwd"><strong>/etc/passwd</strong></a></li>
<li>Find<em>target user </em>somewhere in the file </li>
<li>Delete <strong>x </strong>between two colons ( <strong>:x: </strong>) from the <em>target user's </em>line</li>
<li>Press <strong>ctrl+o </strong>to save file</li>
<li>Press <strong>ctrl+x </strong>to exit</li>
<li>Reboot the system sudo<strong>reboot -f</strong></li>
<li>Press <strong>Enter </strong>or <strong>click </strong>on the <em>target user ( let logins without password )</em></li>
<li>Open terminal</li>
<li>set password for the current user <strong>passwd</strong></li>
<li>enter new password</li>
<li>reenter the same new password to confirm</li>
<li>Sync your new password <strong>sync</strong></li>
<li>Delete old shadow file <strong>sudo</strong> <strong>shadowconfig off</strong></li>
<li>Generate new shadow file <strong>sudo</strong> <strong>shadowconfig on</strong></li>
<li>Reboot your system <strong>sudo</strong> <strong>reboot -f</strong></li>
<li>Enter new password for login</li>
<li>Done</li>
</ul></li>
<li><p>Crack <strong>shadow</strong></p>
<ul>
<li>Open Terminal</li>
<li>List all devices and partitions <strong>sudofdisk</strong> <strong>-l</strong></li>
<li>List partitions mounting points <strong>lsblk</strong></li>
<li>Mount<em>target partitions </em><strong>sudomount</strong><a href="../../../../dev/sda2"><strong>/dev/sda2</strong></a> <strong>/mnt</strong></li>
<li>Search and paste password hash for target user in a test file <strong>sudo</strong> <strong>grep user_name </strong><a href="../../../../mnt/etc/shadow"><strong>/mnt/etc/shadow</strong></a> &gt; target_pass_hash</li>
<li>Crack the target pass hash in the plain text <strong>john target_pass_hash_file</strong></li>
<li>See cracked password <strong>john target_pass_file --show</strong></li>
<li>Shutdown the system</li>
<li>Detech bootable media from the system</li>
<li>Reboot the system</li>
<li>Use the password to login you got from john the ripper</li>
<li>Done</li>
</ul></li>
<li><p>Chroot</p>
<ul>
<li>Open Terminal</li>
<li>List all devices and partitions <strong>sudofdisk</strong> <strong>-l</strong></li>
<li>List partitions mounting points <strong>lsblk</strong></li>
<li>Mount<em>target partitions </em><strong>sudomount</strong><a href="../../../../dev/sda2"><strong>/dev/sda2</strong></a> <strong>/mnt</strong> (if not mounted)</li>
<li>chroot to partition mount<strong>chroot /mnt</strong> (if mounted replace /mnt to mount address of device partition)</li>
<li>List users on partition <strong>ls </strong><a href="../../../"><strong>/home/</strong></a></li>
<li>Make new password for target user <strong>passwd user_name</strong>( user_name is name of the target user )</li>
<li>Enter new password</li>
<li>Re-enter the same new password to confirm</li>
<li>Sync the password <strong>sync</strong></li>
<li>Exit from chroot <strong>exit</strong></li>
<li>Unmount if mounted manually <strong>sudo</strong> <strong>umount </strong><a href="../../../../dev/sda2"><strong>/dev/sda2</strong></a></li>
<li>Shutdown the system sudo<strong>shutdownnow</strong></li>
<li>Detach the bootable linux media drive/usb from the system</li>
<li>Restart the system</li>
<li>Use the new password for the login</li>
<li>Done</li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Windows</p>
<ul>
<li><p>With bootable linux disk</p>
<ul>
<li>Open Terminal</li>
<li>List disks sudofdisk -lList all devices and partitions <strong>sudofdisk</strong> <strong>-l</strong></li>
<li>List partitions mounting points <strong>lsblk</strong></li>
<li>Mount target partition to local space <strong>sudomount</strong><a href="../../../../dev/sda2"><strong>/dev/sda2</strong></a> <strong>/mnt</strong></li>
<li>Enter into <em>System32 </em>directory of target partition <strong>cd </strong><a href="../../../../mnt/Windows/System32/"><strong>/mnt/Windows/System32/</strong></a></li>
<li>Rename <em>Utilman.exe</em> mv <strong>Utilman.exe Utilman.exe.bak</strong></li>
<li>Rename <em>cmd.exe mv <strong>cmd.exe Utilman.exe</strong></em></li>
<li>Unmount target partition <strong>sudo</strong> <strong>umount </strong><a href="../../../../dev/sda2"><strong>/dev/sda2</strong></a></li>
<li>Reboot system <strong>sudo</strong> <strong>reboot -f</strong></li>
<li>Click <em>Utility Manager icon</em></li>
<li>Create new password for the user <strong>net user user_name *</strong>( user_name is name of the target user )</li>
<li>enter new password</li>
<li>reenter the same new password to confirm</li>
<li>Use the new password for login</li>
<li>Open command prompt as administrator and restore Utilman.exe <strong>move Utilman.exe.bak Utilman.exe</strong> ( after search <strong>cmd </strong>hit <strong>ctrl+shift+enter </strong>on the cmd to open command prompt as administrator)(hit <strong>yes</strong> button to confirm for administrator privilege)</li>
<li>Exit from the command prompt <strong>exit</strong></li>
<li>Done</li>
<li>or continue bellow after resting new password (if administrator don't get succeed to restore Utilman.exe)</li>
<li>Exit terminal</li>
<li>Restart your system</li>
<li>Run linux bootable media</li>
<li>Open Terminal</li>
<li>List all devices and partitions <strong>sudofdisk</strong> <strong>-l</strong></li>
<li>List partitions mounting points <strong>lsblk</strong></li>
<li>Mount target partition <strong>sudomount</strong><a href="../../../../dev/sda2"><strong>/dev/sda2</strong></a> <strong>/mnt</strong></li>
<li>Enter into System32 <strong>cd </strong><a href="../../../../mnt/Windows/System32"><strong>/mnt/Windows/System32</strong></a></li>
<li>Rename Utilman.exe <strong>mv Utilman.exe cmd.exe</strong></li>
<li>Rename Utilman.exe.bak <strong>mv Utilman.exe.bak Utilman.exe</strong></li>
<li>unmount target partition sudo<strong>umount </strong><a href="../../../../dev/sda2"><strong>/dev/sda2</strong></a></li>
<li>Reboot system <strong>sudo</strong> <strong>reboot -f</strong></li>
<li>Use the new password to login</li>
<li>Done</li>
</ul></li>
<li><p>With bootable windows disk</p>
<ul>
<li>Restart your system</li>
<li>Press <strong>Enter </strong>to boot your bootable windows media</li>
<li>Press <strong>shift+F10</strong> for <em>Command Prompt</em></li>
<li>Enter into disk partition mode <strong>diskpart</strong></li>
<li>List Volumes on the disk <strong>list volume</strong></li>
<li>Change to target volume <strong>cd /d D:\</strong></li>
<li>Create a backup copy of Utilman.exe <strong>copy Utilman.exe Utilman.exe.bak</strong></li>
<li>Create a copy of cmd.exe as Utilman.exe <strong>copy cmd.exe Utilman.exe</strong></li>
<li>Exit from command prompt <strong>exit</strong></li>
<li>Press <strong>esc </strong>and click <strong>Yes </strong><em>Button </em>to escape from boot screen of bootable media</li>
<li>Detatch the bootable media from the system</li>
<li>Reboot the system</li>
<li>After complete boot <strong>click on the screen</strong> to get login screen and <em><strong>Utility Manager icon</strong></em> <em>on the bottom right corner of the screen.</em></li>
<li>Click <strong>Utility Manager icon </strong>to get <em><strong>command prompt</strong></em></li>
<li>Set new password for target user <strong>net user user_name </strong>*( user_name is name of the target user )</li>
<li>enter new password</li>
<li>reenter the same new password to confirm</li>
<li>Use the new password for login</li>
<li>Open command prompt as administrator and restore Utilman.exe <strong>move Utilman.exe.bak Utilman.exe</strong> ( after search <strong>cmd </strong>hit <strong>ctrl+shift+enter </strong>on the cmd to open command prompt as administrator)(hit <strong>yes</strong> button to confirm for administrator privilege)</li>
<li>Exit from the command prompt <strong>exit</strong></li>
<li>Done</li>
<li>or continue bellow after resting new password (if administrator don't get succeed to restore Utilman.exe)</li>
<li>Exit from the command prompt <strong>exit</strong></li>
<li>Reinsert the bootable windows media into the system</li>
<li>Press <strong>Enter </strong>to boot your bootable windows media</li>
<li>Press <strong>shift+F10</strong> for <em>Command Prompt</em></li>
<li>Enter into disk partition mode <strong>diskpart</strong></li>
<li>List Volumes on the disk <strong>list volume</strong></li>
<li>Change to target volume <strong>cd /d D:\</strong></li>
<li>Restore Utilman.exe <strong>move Utilman.exe.bak Utilman.exe</strong></li>
<li>Exit from command prompt <strong>exit</strong></li>
<li>Press <strong>esc </strong>and click <strong>Yes </strong><em>Button </em>to escape from boot screen of bootable media</li>
<li>Detatch the bootable media from the system</li>
<li>Reboot the system</li>
<li>Use new password for the target user</li>
<li>Done</li>
</ul></li>
</ul></li>
</ul>
<p></p>
